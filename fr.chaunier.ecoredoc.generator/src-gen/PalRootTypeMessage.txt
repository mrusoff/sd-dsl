Root PalRootType ( PalRootType ) ;;

    header ; ( PalHeaderType ) ;;Les besoins doivent prendre en compte les interfaces entrantes et sortantes + les besoins de calculs des SLA + besoin propre à l'EAI + les besoins d'exploitation. attention à vérifier de nombre de detail par rapport au fichier entrant

        canal String; ?  ;;
        type String; ?  ;;
        nonmInfoSource String; ?  ;;file name of pal
        nomInfoDestination String; ?  ;;
        dateReception DateTime; ?  ;;
        instanceIDTibco String; ?  ;;
        typedeFlux String; ?  ;;
        compteurSequence String; ?  ;;
    bordereaux ;* ( BordereauType ) ;;

        idBordereau String;   ;;
        siteEvenement StringF6; ?  lengh : 6 ;;
        dateExpedition DateTime;   ;;
        dateValidation DateTime;   ;;
        pal ;* ( PALERTType ) ;;définition de la prise en charge

            colis ; ( ColisInfoType ) ;;
             extend ( ColisCAB13Type ) ;;;
                codeProduit CodeProduitType;   lengh : 2 ;;code produit
                numeroColis NumeroColisType;   ;;numero de colis

                codeProduit CodeProduitType;   lengh : 2 ;;code produit
                numeroColis NumeroColisType;   ;;numero de colis
                iDColisMaitre ;? ( ColisCAB13Type ) ;;

                    codeProduit CodeProduitType;   lengh : 2 ;;code produit
                    numeroColis NumeroColisType;   ;;numero de colis
            evenement ; ( EvenementType ) ;;information évènement traité

                dateFlashage DateTime;   ;;date de l'évènement (date et heure)
                codeEvenement String;   ;;code de l'évènement
            colisAnnonce ;? ( ColisAnnonce ) ;;
             extend ( ColisType ) ;;;definition d'un colis.
                poids ;? ( PoidsType ) ;;

                    mesure Int;   ;;
                    declare Int;   ;;
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;

                poids ;? ( PoidsType ) ;;

                    mesure Int;   ;;
                    declare Int;   ;;
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;
                dimension ; ( DimensionType ) ;;

                    hauteur Int; ?  ;;
                    longueur Int; ?  ;;
                    largeur Int; ?  ;;
                volume Int;   ;;
                expediteur ;? ( AdressePostaleExentionLivraison ) ;;
                 extend ( AdressePostaleType ) ;;;
                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)


                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                    complement ; ( ComplementType ) ;;

                        instrLivraisonSpecifique1 String;   ;;
                        instrLivraisonSpecifique2 String;   ;;
                        instrSpecifiqueInterphone String;   ;;
                        instrLivraisonSpecifique String;   ;;
                complement ;? ( ComplementType ) ;;

                    instrlivraisonSpecifique1 String; ?  ;;
                    instrlivraisonSpecifique2 String; ?  ;;
                    instrAlertDestinataire String; ?  ;;
                    livraisonEnPointRelais Boolean; ?  ;;
                telMobile ;? ( TelephoneMobileType ) ;;numéro de téléphone
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    numero NumeroType;   max lengh : 11 ;;
                telFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    numero NumeroType1;   max lengh : 11 ;;
                mail ;? ( EmailType ) ;;email
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    email String;   ;;
                relabelisation ; ( RelabelisationType ) ;;

                    idColisMaitre String;   ;;
                    courant ; ( ColisOperateurPairType ) ;;

                        iDColis String;   ;;
                        numeroOperateur String;   ;;
                    sortant ; ( ColisOperateurPairType ) ;;

                        iDColis String;   ;;
                        numeroOperateur String;   ;;
            optionAnnonceService ;? ( OptionsDeServiceType ) ;;

                contreRemboursement ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;
                valeurAssuree ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;
                francDeTaxesEtDeDroits ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;
                niveauRecommandation StringF2; ?  lengh : 2 ;;exclusion assurance/recommandation
                livraisonSamedi ;? ( ValeurEtTaxeType ) ;;

                    valeur String; ?  ;;
                    taxe String; ?  ;;
                    devise String; ?  ;;
                horsNorme RaisonHorsNormeType; * [ NON SANS_MOTIF DIMENSION ETIQUETTE STABILITE EMBALLAGE VOLUME INCONNU_7 INCONNU_8 INCONNU_9 INCONNU_10 INCONNU_11]  default : NON ;;
            facturation ;? ( FacturationType ) ;;

                tva ;? ( TvaType ) ;;

                    montant ; ( MontantEtDevise ) ;;

                        montant MontantType;   ;;
                        devise String;   ;;
                    pourcentage String;   ;;
                montantTotal ;? ( MontantEtDevise ) ;;

                    montant MontantType;   ;;
                    devise String;   ;;
            transport ;? ( TransportType ) ;;

                montant ;? ( MontantEtDevise ) ;;

                    montant MontantType;   ;;
                    devise String;   ;;
            chronopost ;? ( ChronopostType ) ;;

                lotAcheminement String; ?  ;;
                triDistribution String; ?  ;;
                contenuCodebareRoutage String; ?  ;;
                versionFichierRoutage String; ?  ;;
            specifiqueSoColissimo ; ( SpecifiqueSoColissimoType ) ;;

                codeSource String; ?  ;;
                nomCommercialChargeur String; ?  ;;
                referenceCommande String; ?  ;;
                codeAvoirPromotion String; ?  ;;
                codeCityssimo Int; ?  ;;
                iDStation Int; ?  ;;
