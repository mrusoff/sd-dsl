Root PCHRootType ( PCHRootType ) ;;

    header ; ( PCHHeaderType ) ;;Les besoins doivent prendre en compte les interfaces entrantes et sortantes + les besoins de calculs des SLA + besoin propre à l'EAI + les besoins d'exploitation. attention à vérifier de nombre de detail par rapport au fichier entrant

        canal String; ?  ;;
        type String; ?  ;;
        nonmInfoSource String; ?  ;;file name of pch
        nomInfoDestination String; ?  ;;
        dateReception DateTime; ?  ;;
        instanceIDTibco String; ?  ;;
        typedeFlux String; ?  ;;
        compteurSequence String; ?  ;;
    bordereaux ;* ( BordereauType ) ;;

        idBordereau String;   ;;
        siteEvenement StringF6; ?  lengh : 6 ;;
        dateExpedition DateTime;   ;;
        dateValidation DateTime;   ;;
        regateEmission RegateType; ?  lengh : 6 ;;
        pch ;* ( PriseEnChargeType ) ;;définition de la prise en charge

            colis ; ( ColisInfoType ) ;;
             extend ( ColisCAB13Type ) ;;;
                codeProduit CodeProduitType;   lengh : 2 ;;code produit
                numeroColis NumeroColisType;   ;;numero de colis

                codeProduit CodeProduitType;   lengh : 2 ;;code produit
                numeroColis NumeroColisType;   ;;numero de colis
                codeJourneePostal String; ?  ;;(cas des sous-traitant) nécessaire pour les stats - correspond au DDD.cod_Bordereau
                codeClient String; ?  ;;
            evenement ; ( EvenementType ) ;;information évènement traité

                dateFlashage DateTime;   ;;date de l'évènement (date et heure)
                codeEvenement String;   ;;code de l'évènement
            colisAnnonce ;? ( ColisAnnonce ) ;;
             extend ( ColisType ) ;;;definition d'un colis.
                poids Int; ?  ;;poids du colis
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception Boolean; ?  ;;

                poids Int; ?  ;;poids du colis
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception Boolean; ?  ;;
                expediteur ;? ( ExpediteurInfoType ) ;;

                    codeColis String;   ;;
                complement ;? ( ComplementType ) ;;

                    instrlivraisonSpecifique1 String; ?  ;;
                    instrlivraisonSpecifique2 String; ?  ;;
                    instrAlertDestinataire AlerteLivraisonEnum; ? [ SMS MAIL]  default : SMS ;;
                    livraisonEnPointRelais Boolean; ?  ;;
                telMobile ;? ( TelephoneMobileType ) ;;numéro de téléphone
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    numero NumeroType;   max lengh : 11 ;;
                telFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    numero NumeroType1;   max lengh : 11 ;;
                mail ;? ( EmailType ) ;;email
                 extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                    email String;   ;;
            optionAnnonceService ;? ( OptionsDeServiceType ) ;;

                contreRemboursement ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                valeurAssuree ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                francDeTaxesEtDeDroits Boolean; ?  ;;
                niveauRecommandation StringF2; ?  lengh : 2 ;;exclusion assurance/recommandation
                livraisonSamedi Boolean; ?  ;;
                horsNorme RaisonHorsNormeType; * [ NON SANS_MOTIF DIMENSION ETIQUETTE STABILITE EMBALLAGE VOLUME INCONNU_7 INCONNU_8 INCONNU_9 INCONNU_10 INCONNU_11]  default : NON ;;
            equipementMesure ;? ( EquipementType ) ;;

                code String;   ;;
                libelle String;   ;;
            colisMesuree ;? ( ColisMesuree ) ;;définition de mesures sur un colis
             extend ( ColisType ) ;;;definition d'un colis.
                poids Int; ?  ;;poids du colis
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception Boolean; ?  ;;

                poids Int; ?  ;;poids du colis
                typePreparation String; ?  ;;
                destinataire ;? ( AdressePostaleType ) ;;

                    personne ;? ( PersonneType ) ;;définition standart d'une personne
                     extend  abstract ( Tier ) ;;;
                        civilite String; ?  ;;
                        nom String;   ;;
                        prenom String; ?  ;;
                    organisation ;? ( OrganisationType ) ;;définition standart de nom de l'organisation
                     extend  abstract ( Tier ) ;;;
                        raisonSociale String;   ;;
                    adresse ;? ( AdresseType ) ;;définition standard d'une adresse pour sa partie géographique (localisation)
                     extend  abstract ( SiteType ) ;;;racine site pour tous object localisable (adresse, ou organisation référéncer, ou site colisposte)
                        ligne1 LigneAdresse; ?  max lengh : 35 ;;adresse postal Exemple : 1 RUE DE PARIS
                        ligne2 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : IMMEUBLE Jean Bart
                        ligne3 LigneAdresse; ?  max lengh : 35 ;;compléments Exemple : livraison concierge
                        ligne4 LigneAdresse; ?  max lengh : 35 ;;
                        codePostal String9; ?  max lengh : 9 ;;
                        ville String35; ?  max lengh : 35 ;;
                        pays CodePaysIso3166N2; ?  lengh : 2 ;;code pays iso 1666 N2
                    telephoneFixe ;? ( TelephoneFixeType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType1;   max lengh : 11 ;;
                    telephoneMoblie ;? ( TelephoneMobileType ) ;;numéro de téléphone
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        numero NumeroType;   max lengh : 11 ;;
                    mail ;? ( EmailType ) ;;email
                     extend  abstract ( AbstractContacteType ) ;;;abstraction pour la structure d'un contact (mail, tel ...)
                        email String;   ;;
                    contact ;* ( AbstractContacteType ) ;;abstraction pour la structure d'un contact (mail, tel ...)

                accuseReception Boolean; ?  ;;
                controle ;? ( ControleType ) ;;

                    cabHorsNorme RaisonHorsNormeCabType; ? [ PAS_DE_CAB_ILLISIBLE CAB_ILLISIBLE_SUIVI CAB_ILLISIBLE_PCH CAB_ILLISIBLE_SUIVI_PCH CAB_ILLISIBLE_INCONNU_4 CAB_ILLISIBLE_INCONNU_5 CAB_ILLISIBLE_INCONNU_6 CAB_ILLISIBLE_INCONNU_7 CAB_ILLISIBLE_INCONNU_8 CAB_ILLISIBLE_INCONNU_9]  default : PAS_DE_CAB_ILLISIBLE ;;
                    cleeHorsNorme RaisonHorsNormeCleeType; ? [ PAS_DE_CLE_ERRONEE CLE_ERRONEE_SUIVI CLE_ERRONEE_PCH CLE_ERRONEE_JOINTURE_SUIVI_PCH CLE_ERRONEE_INCONNU_4 CLE_ERRONEE_INCONNU_5 CLE_ERRONEE_INCONNU_6 CLE_ERRONEE_INCONNU_7 CLE_ERRONEE_INCONNU_8 CLE_ERRONEE_INCONNU_9]  default : PAS_DE_CLE_ERRONEE ;;
                acheminement ;? ( AcheminementType ) ;;

                    fausseDirection Boolean;   ;;
                dimension ;? ( DimensionType ) ;;

                    hauteur Int; ?  ;;
                    longueur Int; ?  ;;
                    largeur Int; ?  ;;
            optionMesureeService ;? ( OptionDeServiceMesureType ) ;;
             extend ( OptionsDeServiceType ) ;;;
                contreRemboursement ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                valeurAssuree ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                francDeTaxesEtDeDroits Boolean; ?  ;;
                niveauRecommandation StringF2; ?  lengh : 2 ;;exclusion assurance/recommandation
                livraisonSamedi Boolean; ?  ;;
                horsNorme RaisonHorsNormeType; * [ NON SANS_MOTIF DIMENSION ETIQUETTE STABILITE EMBALLAGE VOLUME INCONNU_7 INCONNU_8 INCONNU_9 INCONNU_10 INCONNU_11]  default : NON ;;

                contreRemboursement ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                valeurAssuree ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
                francDeTaxesEtDeDroits Boolean; ?  ;;
                niveauRecommandation StringF2; ?  lengh : 2 ;;exclusion assurance/recommandation
                livraisonSamedi Boolean; ?  ;;
                horsNorme RaisonHorsNormeType; * [ NON SANS_MOTIF DIMENSION ETIQUETTE STABILITE EMBALLAGE VOLUME INCONNU_7 INCONNU_8 INCONNU_9 INCONNU_10 INCONNU_11]  default : NON ;;
                valeurFrancDeTaxesEtDroits ;? ( ControleEtValorisationType ) ;;si pas de controle - le contrôle de l'option n'a pas été effectué, pas vérifié alors pas de tag va leur. si controle et absence option valeur nulle. si option vazlorisé alors valeur.

                    valeur String; ?  ;;
